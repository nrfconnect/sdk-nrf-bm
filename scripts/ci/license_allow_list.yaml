# List of licenses allowed by the "license_check.py" script.
# Key is a license identifier, value is a regular expression (see Python's
# re.search) that matches the files that are allowed to have the license.
# The value can be multiline string. Each line is a regexp that can optionally
# start with a '!' character to indicate that it is a negative match.
# File paths are relative to west workspace directory.
# Special key "none" match no license. Special key "any" match any license
# including no license.
# You can add a '-' character to the beginning of the license identifier to
# allow specific license, but using it will generate a warning.

# Nordic 5-Clause is always allowed.
LicenseRef-Nordic-5-Clause: ".*"

# Missing license information is allowed in all files except the ones listed below using
# negative match.
none: |
  .*
  !\.c$
  !\.h$
  !\.cpp$
  !\.a$
  !\.py$

# Any license information is allowed in Python scripts, but it will generate a warning.
-any: |
  \.py$

# The 'license-texts.yaml' file contains texts of multiple licenses.
# Ignore all detected licenses in that file.
any: |
  .*/license-texts.yaml$
  ^nrf/subsys/nrf_compress/lzma/

# Allow different licenses from external sources
Apache-2.0: |
  ^nrf-bm/drivers/flash/soc_flash_nrf_rram.c
  ^nrf-bm/subsys/storage/flash_map/
  ^nrf-bm/lib/zephyr_queue/src/queue.c
  ^nrf-bm/subsys/mgmt/mcumgr/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/grp/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/grp/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/grp/img_mgmt/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/grp/img_mgmt/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/grp/os_mgmt/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/grp/os_mgmt/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/mgmt/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/mgmt/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/smp/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/smp/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/transport/CMakeLists.txt
  ^nrf-bm/subsys/mgmt/mcumgr/transport/Kconfig
  ^nrf-bm/subsys/mgmt/mcumgr/transport/src/smp.c
  ^nrf-bm/subsys/mgmt/mcumgr/util/CMakeLists.txt
  ^nrf-bm/sysbuild/Kconfig.bm
  ^nrf-bm/samples/mcumgr/uart_mcumgr/src/smp_uart.c
  ^nrf-bm/samples/mcumgr/uart_mcumgr/src/uart_mcumgr.c
  ^nrf-bm/tests/lib/bm_timer/include/zephyr/kernel.h
  ^nrf-bm/lib/bm_zms/
  ^nrf-bm/include/bm_zms.h
  ^nrf-bm/tests/lib/bm_zms/
