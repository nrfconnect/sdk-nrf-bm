#
# Copyright (c) 2025 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menuconfig BM_STORAGE
	bool "Bare Metal storage"
	help
	  Bare Metal storage library.

if BM_STORAGE

choice BM_STORAGE_BACKEND
	prompt "Bare Metal storage backend"

config BM_STORAGE_BACKEND_RRAM
	bool "Bare Metal RRAM storage backend"
	depends on !SOFTDEVICE

config BM_STORAGE_BACKEND_SD
	bool "Bare Metal SoftDevice storage backend"
	depends on SOFTDEVICE
	depends on NRF_SDH
	depends on RING_BUFFER

config BM_STORAGE_BACKEND_NATIVE_SIM
	bool "Bare Metal native simulator storage backend"
	depends on BOARD_NATIVE_SIM
	depends on ZTEST
	help
	  This backend is designed to be used exclusively when running Ztest integration tests.

endchoice

if BM_STORAGE_BACKEND_SD

rsource "sd/Kconfig"

endif # BM_STORAGE_BACKEND_SD

if BM_STORAGE_BACKEND_NATIVE_SIM

rsource "native_sim/Kconfig"

endif # BM_STORAGE_BACKEND_NATIVE_SIM

endif # BM_STORAGE
